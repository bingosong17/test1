# NOTE: Generated By HttpRunner v3.1.3
"""
    概要：
        使用拼拼账号登录
    输入参数：
        "ppmobile": 15869038912

    输出参数：
        "session":登录凭证
    前置接口：
        发送验证码
"""

from httprunner import HttpRunner, Config, Step, RunTestCase
from ppApp.api.发送验证码_test import TestCase发送验证码 as 发送验证码
from ppApp.api.账号验证码登录_test import TestCase账号验证码登录 as 账号验证码登录

class TestCase拼拼登录(HttpRunner):

    config = Config("testcase description").verify(False).base_url("${testEnv($business)}").variables(
        **{
            "business": "ppApp",
            "phone": "15869038912",
        }).export(*["session"])

    teststeps = [
        Step(
            RunTestCase("发送验证码").call(发送验证码)
        ),
        Step(
            RunTestCase("账号验证码登录").call(账号验证码登录).export(*["session"])
        ),
    ]


if __name__ == "__main__":
    TestCase拼拼登录().test_start()
