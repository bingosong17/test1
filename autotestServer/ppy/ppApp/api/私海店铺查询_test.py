# NOTE: Generated By HttpRunner v3.1.4
"""
    概要：
        私海店铺查询
    输入参数：
        "status": 客户状态(0 已停业 1 正常 2 黑名单 3 注册中 4 未审核 5 审核未通过)
        "longitude": 经度
        "manyDayNotOrder": 近多少天未下单 -1今日已下单 -2今日未下单
        "userSignStatus":每日签到标识(0/null:关闭，1:为打开状态)
        "latitude": 纬度
        "type": (必传)客户类型(1合作店铺2潜在店铺)
        "manyDayNotLogin": 近多少天未活跃 -1今日已活跃 -2今日未活跃
    输出参数：
        "pageData":店铺
    前置接口：
        无
"""


from httprunner import HttpRunner, Config, Step, RunRequest, RunTestCase


class TestCase私海店铺查询(HttpRunner):

    config = Config("私海店铺查询").verify(False).base_url("${testEnv($business)}").variables(
        **{
            "business": "ppApp",
            "phone": "15757113586",
            "session": "${getSession($business,$phone)}",
            "status": 1,
            "pageSize": 10,
            "longitude": "",
            "latitude": "",
            "manyDayNotOrder": 0,
            "userSignStatus": 0,
            "type": "1",
            "manyDayNotLogin": 0,
        }).export(*["pageData", "longitude", "latitude"])

    teststeps = [
        Step(
            RunRequest("/ppy-pinpin/myCustomer/shopList")
            .post("/myCustomer/shopList")
            .with_headers(
                **{
                    "Accept": "*/*",
                    "Accept-Language": "zh-Hans-CN;q=1",
                    "Accept-Encoding": "gzip, deflate",
                    "Content-Type": "application/json",
                    "sessionId": "$session",
                    "deviceId": "0380efdbdb0938af0d7a3852519f361a86ff",
                    "User-Agent": "Pinpin/3.7.0 (iPhone; iOS 11.1.2; Scale/3.00)",
                    "Content-Length": "156",
                    "serviceName": "NEW-PP",
                    "Connection": "keep-alive",
                }
            )
            .with_json(
                {
                    "status": "$status",
                    "pageSize": "$pageSize",
                    "longitude": "$longitude",
                    "manyDayNotOrder": "$manyDayNotOrder",
                    "userSignStatus": "$userSignStatus",
                    "latitude": "$latitude",
                    "type": "$type",
                    "manyDayNotLogin": "$manyDayNotLogin",
                    "pageNum": 1,
                }
            ).extract()
            .with_jmespath("body.body.pageData", "pageData")
            .with_jmespath("body.body.pageData[0].longitude", "longitude")
            .with_jmespath("body.body.pageData[0].latitude", "latitude")
            .validate()
            .assert_equal("status_code", 200)
            .assert_equal("body.statusCode", 2000)
        ),
    ]


if __name__ == "__main__":
    TestCase私海店铺查询().test_start()
"""
response:
{
	"statusCode": 2000,
	"msg": null,
	"traceMsg": "traceId: null",
	"timestamp": 1603096880,
	"signType": null,
	"sign": null,
	"body": {
		"pageNum": 1,
		"pageSize": 10,
		"pageCount": 19,
		"totalSize": 188,
		"pageData": [{
			"id": 2679,
			"shopName": "迎众便利店",
			"rollPhone": null,
			"specificAddress": "余杭街道",
			"pics": "https://images.alpha.pinpianyi.cn//images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 2,
			"shopStatusText": "中频用户",
			"longitude": "119.967929000000000000",
			"latitude": "30.257678000000000000",
			"status": "1",
			"statusText": "正常",
			"distance": 28719.35,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-09-22 07:45:47",
			"loginEndDate": "2020-09-22 07:45:47",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 10,
			"type": 1,
			"loseCountDown": "-19天-12小时-41分钟-20秒",
			"loseDayTime": -1687280,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "钻石会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2515,
			"shopName": "彩芬超市",
			"rollPhone": null,
			"specificAddress": "华坞新苑97号",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 4,
			"shopStatusText": "存活用户",
			"longitude": "119.962612000000000000",
			"latitude": "30.251712000000000000",
			"status": "1",
			"statusText": "正常",
			"distance": 29091.05,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-08-27 15:32:32",
			"loginEndDate": "2020-08-27 15:32:32",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 0,
			"type": 1,
			"loseCountDown": "-20天-12小时-41分钟-20秒",
			"loseDayTime": -1773680,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "普通会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2508,
			"shopName": "华辰连锁超市",
			"rollPhone": null,
			"specificAddress": "华坞新苑23号",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 4,
			"shopStatusText": "存活用户",
			"longitude": "119.961786751107250000",
			"latitude": "30.250639108623922000",
			"status": "1",
			"statusText": "正常",
			"distance": 29147.57,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-08-24 19:32:45",
			"loginEndDate": "2020-08-24 19:32:45",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 0,
			"type": 1,
			"loseCountDown": "-20天-12小时-41分钟-20秒",
			"loseDayTime": -1773680,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "黄金会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2538,
			"shopName": "静鑫便利超市",
			"rollPhone": null,
			"specificAddress": "禹航路332号静鑫便利超市",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d9ac88b8fc634e6bae962bc0c043a3d3.jpg",
			"shopStatus": 2,
			"shopStatusText": "中频用户",
			"longitude": "119.948410000000000000",
			"latitude": "30.257693000000000000",
			"status": "1",
			"statusText": "正常",
			"distance": 30556.09,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-09-22 14:15:21",
			"loginEndDate": "2020-09-22 14:15:21",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 8,
			"type": 1,
			"loseCountDown": "-16天-12小时-41分钟-20秒",
			"loseDayTime": -1428080,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "钻石会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2616,
			"shopName": "张星便利店",
			"rollPhone": null,
			"specificAddress": "狮山路147号",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 3,
			"shopStatusText": "低频用户",
			"longitude": "119.949467000000000000",
			"latitude": "30.265222000000000000",
			"status": "1",
			"statusText": "正常",
			"distance": 30631.3,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-09-19 15:13:14",
			"loginEndDate": "2020-09-19 15:13:14",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 4,
			"type": 1,
			"loseCountDown": "-20天-12小时-41分钟-20秒",
			"loseDayTime": -1773680,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "黄金会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2541,
			"shopName": "广君副食品店",
			"rollPhone": null,
			"specificAddress": "禹航路394号",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 3,
			"shopStatusText": "低频用户",
			"longitude": "119.947708999999990000",
			"latitude": "30.259113000000000000",
			"status": "1",
			"statusText": "正常",
			"distance": 30653.24,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-09-07 09:13:55",
			"loginEndDate": "2020-09-07 09:13:55",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 2,
			"type": 1,
			"loseCountDown": "-16天-12小时-41分钟-20秒",
			"loseDayTime": -1428080,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "铂金会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2555,
			"shopName": "烟酒总汇",
			"rollPhone": null,
			"specificAddress": "余杭区余杭镇凤新路186号",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 3,
			"shopStatusText": "低频用户",
			"longitude": "119.944897000000000000",
			"latitude": "30.259855000000000000",
			"status": "1",
			"statusText": "正常",
			"distance": 30934.36,
			"picUrl": null,
			"shopType": "04",
			"shopTypeText": "烟酒店",
			"payOrderEndDate": "2020-09-08 09:57:58",
			"loginEndDate": "2020-09-08 09:57:58",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 2,
			"type": 1,
			"loseCountDown": "-19天-12小时-41分钟-20秒",
			"loseDayTime": -1687280,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "钻石会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2656,
			"shopName": "新世纪连锁超市",
			"rollPhone": null,
			"specificAddress": "栖凤苑37号新世纪连锁超市",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 3,
			"shopStatusText": "低频用户",
			"longitude": "119.937970000000000000",
			"latitude": "30.258282000000000000",
			"status": "1",
			"statusText": "正常",
			"distance": 31552.62,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-09-18 20:40:05",
			"loginEndDate": "2020-09-18 20:40:05",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 2,
			"type": 1,
			"loseCountDown": "-23天-12小时-41分钟-20秒",
			"loseDayTime": -2032880,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "铂金会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2650,
			"shopName": "粮油蔬菜店",
			"rollPhone": null,
			"specificAddress": "南凤苑大门口海洋副食品店",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 3,
			"shopStatusText": "低频用户",
			"longitude": "119.937264655608100000",
			"latitude": "30.256491606234714000",
			"status": "1",
			"statusText": "正常",
			"distance": 31581.83,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-09-12 11:31:15",
			"loginEndDate": "2020-09-12 11:31:15",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 2,
			"type": 1,
			"loseCountDown": "-16天-12小时-41分钟-20秒",
			"loseDayTime": -1428080,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "钻石会员",
			"landmarkName": null,
			"landmarkAddress": null
		}, {
			"id": 2654,
			"shopName": "世纪华联",
			"rollPhone": null,
			"specificAddress": "杭州市余杭区余杭街道栖凤苑32号",
			"pics": "https://images.alpha.pinpianyi.cn/images/face/d5622fac0ff74974b9101a70dc33984d.jpg",
			"shopStatus": 3,
			"shopStatusText": "低频用户",
			"longitude": "119.936737000000000000",
			"latitude": "30.257799000000000000",
			"status": "1",
			"statusText": "正常",
			"distance": 31658.71,
			"picUrl": null,
			"shopType": "00",
			"shopTypeText": "便利店",
			"payOrderEndDate": "2020-09-12 09:36:41",
			"loginEndDate": "2020-09-12 09:36:41",
			"operatorId": 232,
			"thisMonthOrderNum": 0,
			"lastMonthOrderNum": 2,
			"type": 1,
			"loseCountDown": "-24天-12小时-41分钟-20秒",
			"loseDayTime": -2119280,
			"picType": null,
			"phone": null,
			"user": null,
			"city": null,
			"cityCode": "330100",
			"zone": null,
			"zoneCode": null,
			"street": null,
			"streetCode": null,
			"operatorName": null,
			"memberLevelName": "铂金会员",
			"landmarkName": null,
			"landmarkAddress": null
		}]
	}
}
"""