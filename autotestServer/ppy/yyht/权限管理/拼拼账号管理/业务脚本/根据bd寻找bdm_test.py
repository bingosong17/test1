# NOTE: Generated By HttpRunner v3.1.3
"""
    概要：
        根据bd寻找bdm_
    输入参数：
        "regionName": 战区名称
        "disable": 战区是否可用，0-可用，1-不可用
    输出参数：
        "bdId":bd的id
        "bdPhone":bd领导的手机号
    前置接口：
        用户登陆
"""

from httprunner import HttpRunner, Config, Step, RunTestCase
from yyht.权限管理.拼拼账号管理.api.bd人员列表查询_test import TestCaseBd人员列表查询 as Bd人员列表查询
from yyht.权限管理.拼拼账号管理.api.展示账号信息_test import TestCase展示账号信息 as 展示账号信息


class TestCase根据bd寻找bdm(HttpRunner):

    config = Config("testcase description").verify(False).base_url("${testEnv($business)}").variables(
        **{
            "business": "yyht",
            "session": "${getSession($business)}",
            "bdPhone": "15757113586",
        }).export(*["bdId", "bdPhone"])

    teststeps = [
        Step(
            RunTestCase("Bd人员列表查询").with_variables(
                **{
                    "phone": "$bdPhone",
                    "user": "",
                    "businessLine": "",
                    "exampleState": "",
                    "position": "",
                    "department": "",
                    "status": "",
                    "sex": "",
                    "inviteCode": "",
                    "jobnumber": "",
                    "leaderName": "",
                }
            ).call(Bd人员列表查询).export(*["bdId"])
        ),
        Step(
            RunTestCase("展示bd账号信息，导出bdmid").with_variables(
                **{
                    "id": "$bdId"
                }
            ).call(展示账号信息).export(*["ldName"])
        ),
        Step(
            RunTestCase("Bdm人员查询").with_variables(
                **{
                    "user": "$ldName",
                    "businessLine": "",
                    "exampleState": "",
                    "position": "",
                    "department": "",
                    "status": "",
                    "sex": "",
                    "inviteCode": "",
                    "jobnumber": "",
                    "leaderName": "",
                    "phone": "",
                }
            ).call(Bd人员列表查询).export(*["bdPhone"])
        ),

    ]


if __name__ == "__main__":
    TestCase根据bd寻找bdm().test_start()
