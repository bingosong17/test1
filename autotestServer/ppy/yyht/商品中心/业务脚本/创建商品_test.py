# NOTE: Generated By HttpRunner v3.1.3
"""
    概要：
        创建商品
    输入参数：
        "name": 后台类目名称
        "parentId": 父类目id
        "orderClassify": 配送分类,1-A,2-B
    输出参数：
        无
    前置接口：
        用户登陆
"""

from httprunner import HttpRunner, Config, Step, RunTestCase
from yyht.商品中心.api.新增商品_test import TestCase新增商品 as 新增商品

class TestCase创建商品(HttpRunner):

    config = Config("testcase description").verify(False).base_url("${testEnv($business)}").variables(
        **{
            "business": "yyht",
            "session": "${getSession($business)}",
            "goodsName": "${timeStr(可口可乐就这么地1ml/箱)}",
            "parentId": '5304',
            "orderClassify": 2

        })

    teststeps = [
        Step(
            RunTestCase("新增商品").with_variables(
                **{
                    "name": "$goodsName",
                }
            ).call(新增商品)
                .teardown_hook("${sleep_N_secs(1)}")
        ),
        Step(
            RunTestCase("查询某个父类下的子类目").call(查询某个父类下的子类目)
                .export(*["backstageCategoryId"])
                .teardown_hook("${sleep_N_secs(1)}")
        ),
        Step(
            RunTestCase("绑定品类订单类型").call(绑定品类订单类型)
        ),
    ]


if __name__ == "__main__":
    TestCase创建商品().test_start()
