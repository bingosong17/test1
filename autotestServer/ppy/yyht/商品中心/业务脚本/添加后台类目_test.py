# NOTE: Generated By HttpRunner v3.1.3
"""
    概要：
        添加后台类目，并进行A，B品类设置
    输入参数：
        "name": 后台类目名称
        "parentId": 父类目id
        "orderClassify": 配送分类,1-A,2-B
    输出参数：
        无
    前置接口：
        用户登陆
"""

from httprunner import HttpRunner, Config, Step, RunTestCase
from yyht.商品中心.api.新增后台类目_test import TestCase新增后台类目 as 新增后台类目
from yyht.商品中心.api.查询某个父类下的子类目_test import TestCase查询某个父类下的子类目 as 查询某个父类下的子类目
from yyht.商品中心.api.绑定品类订单类型_test import TestCase绑定品类订单类型 as 绑定品类订单类型

class TestCase添加后台类目(HttpRunner):

    config = Config("testcase description").verify(False).base_url("${testEnv($business)}").variables(
        **{
            "business": "yyht",
            "session": "${getSession($business)}",
            "name": "${timeStr(后台类目)}",
            "parentId": '5304',
            "orderClassify": 2

        })

    teststeps = [
        Step(
            RunTestCase("新增后台类目").call(新增后台类目)
                .teardown_hook("${sleep_N_secs(1)}")
        ),
        Step(
            RunTestCase("查询某个父类下的子类目").call(查询某个父类下的子类目)
                .export(*["backstageCategoryId"])
                .teardown_hook("${sleep_N_secs(1)}")
        ),
        Step(
            RunTestCase("绑定品类订单类型").call(绑定品类订单类型)
        ),
    ]


if __name__ == "__main__":
    TestCase添加后台类目().test_start()
